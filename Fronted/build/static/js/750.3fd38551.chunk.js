"use strict";(self.webpackChunkproyecto_nutricalc=self.webpackChunkproyecto_nutricalc||[]).push([[750],{6990:(e,a,o)=>{o.d(a,{A:()=>_});var r=o(8587),t=o(8168),s=o(5043),n=o(8387),l=o(8610),i=o(7266),d=o(4535),c=o(1475),u=o(8206),p=o(1347),m=o(3383),h=o(5013),x=o(5849),v=o(2532);const b=(0,v.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const f=(0,v.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var A=o(5671),g=o(2372);function y(e){return(0,g.Ay)("MuiMenuItem",e)}const w=(0,v.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=o(579);const P=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,d.Ay)(m.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,o.dense&&a.dense,o.divider&&a.divider,!o.disableGutters&&a.gutters]}})(e=>{let{theme:a,ownerState:o}=e;return(0,t.A)({},a.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.divider&&{borderBottom:"1px solid ".concat((a.vars||a).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(w.selected)]:{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,i.X4)(a.palette.primary.main,a.palette.action.selectedOpacity),["&.".concat(w.focusVisible)]:{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,i.X4)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}},["&.".concat(w.selected,":hover")]:{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,i.X4)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,i.X4)(a.palette.primary.main,a.palette.action.selectedOpacity)}},["&.".concat(w.focusVisible)]:{backgroundColor:(a.vars||a).palette.action.focus},["&.".concat(w.disabled)]:{opacity:(a.vars||a).palette.action.disabledOpacity},["& + .".concat(b.root)]:{marginTop:a.spacing(1),marginBottom:a.spacing(1)},["& + .".concat(b.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(f.root)]:{minWidth:36}},!o.dense&&{[a.breakpoints.up("sm")]:{minHeight:"auto"}},o.dense&&(0,t.A)({minHeight:32,paddingTop:4,paddingBottom:4},a.typography.body2,{["& .".concat(f.root," svg")]:{fontSize:"1.25rem"}}))}),_=s.forwardRef(function(e,a){const o=(0,u.b)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:d="li",dense:c=!1,divider:m=!1,disableGutters:v=!1,focusVisibleClassName:b,role:f="menuitem",tabIndex:A,className:g}=o,w=(0,r.A)(o,P),_=s.useContext(p.A),I=s.useMemo(()=>({dense:c||_.dense||!1,disableGutters:v}),[_.dense,c,v]),M=s.useRef(null);(0,h.A)(()=>{i&&M.current&&M.current.focus()},[i]);const N=(0,t.A)({},o,{dense:I.dense,divider:m,disableGutters:v}),k=(e=>{const{disabled:a,dense:o,divider:r,disableGutters:s,selected:n,classes:i}=e,d={root:["root",o&&"dense",a&&"disabled",!s&&"gutters",r&&"divider",n&&"selected"]},c=(0,l.A)(d,y,i);return(0,t.A)({},i,c)})(o),L=(0,x.A)(M,a);let S;return o.disabled||(S=void 0!==A?A:-1),(0,j.jsx)(p.A.Provider,{value:I,children:(0,j.jsx)(C,(0,t.A)({ref:L,role:f,tabIndex:S,component:d,focusVisibleClassName:(0,n.A)(k.focusVisible,b),className:(0,n.A)(k.root,g)},w,{ownerState:N,classes:k}))})})},9750:(e,a,o)=>{o.r(a),o.d(a,{default:()=>N});var r=o(9379),t=o(5043),s=o(9252),n=o(2110),l=o(6494),i=o(5865),d=o(8903),c=o(5795),u=o(3193),p=o(9190),m=o(598),h=o(6990),x=o(1906),v=o(794),b=o(4194),f=o(6060),A=o(3455),g=o(6240),y=o(344),w=o(3216),j=o(9722),P=o(3003),C=o(579);const _=(0,f.A)(s.A)(e=>{let{theme:a}=e;return{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:a.spacing(2),overflow:"hidden"}}),I=(0,f.A)(n.A)(e=>{let{theme:a}=e;return{width:"150%",maxWidth:"900px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",[a.breakpoints.down("sm")]:{width:"100%",maxWidth:"none"}}}),M=(0,f.A)(l.A)(e=>{let{theme:a}=e;return{width:"100%",margin:"0 auto"}}),N=()=>{const e=(0,g.A)(),a=(0,y.A)(e.breakpoints.down("sm")),o=(0,w.Zp)(),s=(0,P.d4)(e=>e.auth.email),[n,l]=(0,t.useState)({nombre:"",apellidoPaterno:"",apellidoMaterno:"",telefono:"",fechaNacimiento:"",ciudad:"",cedulaProfesional:"",sexo:"",correo:"",password_actual:"",password_nueva:"",confirmPassword:""}),[f,N]=(0,t.useState)({}),[k,L]=(0,t.useState)(!0),[S,q]=(0,t.useState)(!1),[E,T]=(0,t.useState)(""),[W,O]=(0,t.useState)("success");(0,t.useEffect)(()=>{(async()=>{try{const e=await j.A.get("https://pruebas-back-50777bb3ad67.herokuapp.com/api/obtener_doctor",{params:{correo:s}});l((0,r.A)((0,r.A)({},e.data),{},{password_actual:"",password_nueva:"",confirmPassword:""}))}catch(e){console.error("Error al cargar los datos del doctor:",e)}})()},[s]);const F=e=>{const{name:a,value:o}=e.target;l((0,r.A)((0,r.A)({},n),{},{[a]:o}));let t=(0,r.A)({},f);if("telefono"===a&&(!/^\d*$/.test(o)||o.length>10?t.telefono="Solo se permiten caracteres num\xe9ricos y un m\xe1ximo de 10 d\xedgitos.":delete t.telefono),"fechaNacimiento"===a){const e=new Date,a=new Date(o);e.getFullYear(),a.getFullYear();a>e.setFullYear(e.getFullYear()-18)||a<e.setFullYear(e.getFullYear()-100)?t.fechaNacimiento="La fecha de nacimiento debe estar entre 18 y 100 a\xf1os.":delete t.fechaNacimiento}if("confirmPassword"===a||"password_nueva"===a){const{password_nueva:e,confirmPassword:s}=(0,r.A)((0,r.A)({},n),{},{[a]:o});e&&e!==s?(L(!1),t.confirmPassword="Las contrase\xf1as no coinciden."):(L(!0),delete t.confirmPassword)}N(t)},V=()=>{q(!1)};return(0,C.jsxs)(_,{children:[(0,C.jsx)(I,{children:(0,C.jsxs)(M,{children:[(0,C.jsx)(i.A,{variant:"h4",align:"center",gutterBottom:!0,children:"Editar Informaci\xf3n"}),(0,C.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:async e=>{if(e.preventDefault(),(()=>{let e={};return e.nombre=n.nombre?"":"Este campo es requerido.",e.apellidoPaterno=n.apellidoPaterno?"":"Este campo es requerido.",e.apellidoMaterno=n.apellidoMaterno?"":"Este campo es requerido.",e.telefono=n.telefono?"":"Este campo es requerido.",e.fechaNacimiento=n.fechaNacimiento?"":"Este campo es requerido.",e.ciudad=n.ciudad?"":"Este campo es requerido.",e.cedulaProfesional=n.cedulaProfesional?"":"Este campo es requerido.",e.sexo=n.sexo?"":"Este campo es requerido.",n.password_nueva&&!n.password_actual&&(e.password_actual="Este campo es requerido para cambiar la contrase\xf1a."),n.password_nueva&&n.password_nueva!==n.confirmPassword&&(e.confirmPassword="Las contrase\xf1as no coinciden."),N(e),Object.values(e).every(e=>""===e)})()&&k)try{await j.A.put("https://pruebas-back-50777bb3ad67.herokuapp.com/api/editar_doctor",(0,r.A)((0,r.A)({},n),{},{correo:s}));T("Datos actualizados con \xe9xito"),O("success"),q(!0),o("/pacientes")}catch(i){var a,t,l;console.error("Error al actualizar los datos del doctor:",(null===(a=i.response)||void 0===a?void 0:a.data)||i.message),T("Error ".concat(null===(t=i.response)||void 0===t?void 0:t.status,": ").concat((null===(l=i.response)||void 0===l?void 0:l.data.message)||i.message)),O("error"),q(!0)}},children:(0,C.jsxs)(d.Ay,{container:!0,spacing:a?2:3,children:[(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"Nombre",variant:"outlined",name:"nombre",value:n.nombre,onChange:F,error:!!f.nombre,helperText:f.nombre,InputLabelProps:{style:{color:f.nombre?"red":""}},required:!0})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"Apellido Paterno",variant:"outlined",name:"apellidoPaterno",value:n.apellidoPaterno,onChange:F,error:!!f.apellidoPaterno,helperText:f.apellidoPaterno,InputLabelProps:{style:{color:f.apellidoPaterno?"red":""}},required:!0})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"Apellido Materno",variant:"outlined",name:"apellidoMaterno",value:n.apellidoMaterno,onChange:F,error:!!f.apellidoMaterno,helperText:f.apellidoMaterno,InputLabelProps:{style:{color:f.apellidoMaterno?"red":""}},required:!0})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"N\xfamero de Tel\xe9fono",variant:"outlined",name:"telefono",value:n.telefono,onChange:F,error:!!f.telefono,helperText:f.telefono,inputProps:{maxLength:10},InputLabelProps:{style:{color:f.telefono?"red":""}},required:!0})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"Fecha de Nacimiento",variant:"outlined",type:"date",InputLabelProps:{shrink:!0},name:"fechaNacimiento",value:n.fechaNacimiento,onChange:F,error:!!f.fechaNacimiento,helperText:f.fechaNacimiento,InputLabelProps:{style:{color:f.fechaNacimiento?"red":""}},required:!0})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsxs)(u.A,{fullWidth:!0,variant:"outlined",error:!!f.ciudad,children:[(0,C.jsx)(p.A,{required:!0,style:{color:f.ciudad?"red":""},children:"Ciudad"}),(0,C.jsxs)(m.A,{label:"Ciudad",name:"ciudad",value:n.ciudad,onChange:F,children:[(0,C.jsx)(h.A,{value:"mexico",children:"M\xe9xico"}),(0,C.jsx)(h.A,{value:"estado_mexico",children:"Estado de M\xe9xico"}),(0,C.jsx)(h.A,{value:"puebla",children:"Puebla"}),(0,C.jsx)(h.A,{value:"tlaxcala",children:"Tlaxcala"})]}),f.ciudad&&(0,C.jsx)(i.A,{color:"error",children:f.ciudad})]})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"C\xe9dula Profesional",variant:"outlined",name:"cedulaProfesional",value:n.cedulaProfesional,onChange:F,error:!!f.cedulaProfesional,helperText:f.cedulaProfesional,InputLabelProps:{style:{color:f.cedulaProfesional?"red":""}},required:!0})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsxs)(u.A,{fullWidth:!0,variant:"outlined",error:!!f.sexo,children:[(0,C.jsx)(p.A,{required:!0,style:{color:f.sexo?"red":""},children:"Sexo"}),(0,C.jsxs)(m.A,{label:"Sexo",name:"sexo",value:n.sexo,onChange:F,children:[(0,C.jsx)(h.A,{value:"hombre",children:"Hombre"}),(0,C.jsx)(h.A,{value:"mujer",children:"Mujer"})]}),f.sexo&&(0,C.jsx)(i.A,{color:"error",children:f.sexo})]})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"Correo Electr\xf3nico",variant:"outlined",name:"correo",value:n.correo,disabled:!0,error:!!f.correo,helperText:f.correo,InputLabelProps:{style:{color:f.correo?"red":""}}})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"Contrase\xf1a Actual",variant:"outlined",type:"password",name:"password_actual",value:n.password_actual,onChange:F,error:!!f.password_actual,helperText:f.password_actual,InputLabelProps:{style:{color:f.password_actual?"red":""}}})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"Nueva Contrase\xf1a",variant:"outlined",type:"password",name:"password_nueva",value:n.password_nueva,onChange:F,error:!!f.password_nueva,helperText:f.password_nueva,InputLabelProps:{style:{color:f.password_nueva?"red":""}}})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(c.A,{fullWidth:!0,label:"Confirmar Nueva Contrase\xf1a",variant:"outlined",type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:F,error:!!f.confirmPassword,helperText:f.confirmPassword,InputLabelProps:{style:{color:f.confirmPassword?"red":""}}})}),(0,C.jsx)(d.Ay,{item:!0,xs:12,children:(0,C.jsx)(A.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,C.jsx)(x.A,{variant:"contained",color:"secondary",fullWidth:!0,type:"submit",disabled:!k||Object.values(f).some(e=>""!==e),children:"Enviar"})})})]})})]})}),(0,C.jsx)(v.A,{open:S,autoHideDuration:6e3,onClose:V,children:(0,C.jsx)(b.A,{onClose:V,severity:W,sx:{width:"100%"},children:E})})]})}}}]);
//# sourceMappingURL=750.3fd38551.chunk.js.map