"use strict";(self.webpackChunkproyecto_nutricalc=self.webpackChunkproyecto_nutricalc||[]).push([[325,618],{2325:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});a(5043);var o=a(6058),r=a(9042),n=a(6361),i=a(579);n.t1.register(n.E8,n.PP,n.kc,n.hE,n.m_,n.s$,r.A);const s=t=>{let{data:e,title:a}=t;return(0,i.jsx)("div",{style:{marginBottom:"20px"},children:(0,i.jsx)(o.yP,{data:e,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:a},datalabels:{anchor:"end",align:"top",formatter:t=>t.toFixed(2),color:"black",font:{weight:"bold"}}},scales:{x:{type:"category",title:{display:!0,text:"Categor\xeda"}},y:{beginAtZero:!0,title:{display:!0,text:"Valor"},ticks:{stepSize:10,callback:t=>t.toFixed(2)}}}}})})}},4162:(t,e,a)=>{a.d(e,{A:()=>p});var o=a(8168),r=a(8587),n=a(3462),i=a(5006),s=a(6004),l=a(9523);const d=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],c=["component","slots","slotProps"],u=["component"];function p(t,e){const{className:a,elementType:p,ownerState:g,externalForwardedProps:A,getSlotOwnerState:b,internalForwardedProps:x}=e,h=(0,r.A)(e,d),{component:m,slots:y={[t]:void 0},slotProps:f={[t]:void 0}}=A,j=(0,r.A)(A,c),C=y[t]||p,v=(0,s.A)(f[t],g),k=(0,l.A)((0,o.A)({className:a},h,{externalForwardedProps:"root"===t?j:void 0,externalSlotProps:v})),{props:{component:E},internalRef:w}=k,_=(0,r.A)(k.props,u),T=(0,n.A)(w,null==v?void 0:v.ref,e.ref),S=b?b(_):{},P=(0,o.A)({},g,S),F="root"===t?E||m:E,O=(0,i.A)(C,(0,o.A)({},"root"===t&&!m&&!y[t]&&x,"root"!==t&&!y[t]&&x,_,F&&{as:F},{ref:T}),P);return Object.keys(S).forEach(t=>{delete O[t]}),[C,O]}},5228:(t,e,a)=>{a.r(e),a.d(e,{default:()=>w});var o=a(5043),r=a(9722),n=a(9252),i=a(9650),s=a(5865),l=a(2110),d=a(6494),c=a(3336),u=a(1806),p=a(4882),g=a(8076),A=a(2420),b=a(3460),x=a(1906),h=a(794),m=a(4194),y=a(4535),f=a(2325),j=a(3216),C=a(579);const v=(0,y.Ay)(n.A)(t=>{let{theme:e}=t;return{[e.breakpoints.up("md")]:{width:"150%"},[e.breakpoints.down("sm")]:{width:"100%"},overflowX:"auto"}}),k=(0,y.Ay)(i.A)(t=>{let{theme:e}=t;return{marginTop:e.spacing(4),maxHeight:600}}),E=(0,y.Ay)(s.A)(t=>{let{theme:e}=t;return{textAlign:"center",marginBottom:e.spacing(2)}}),w=()=>{const t=(0,j.zy)(),e=(0,j.Zp)(),{correo:a,peso:n,altura:i,actividadFisica:y,edad:w,sexo:_}=t.state,[T,S]=(0,o.useState)([]),[P,F]=(0,o.useState)(!0),[O,H]=(0,o.useState)(null),[L,R]=(0,o.useState)(null),[N,D]=(0,o.useState)(!1),[M,W]=(0,o.useState)(""),[B,K]=(0,o.useState)("success");(0,o.useEffect)(()=>{(async()=>{try{const t=await r.A.get("https://pruebas-back-50777bb3ad67.herokuapp.com/obtener_elementos_algoritmo",{params:{altura:i,peso:n,actividad_fisica:y,sexo:_,edad:w}});S(t.data),R(t.data[0])}catch(t){H(t)}finally{F(!1)}})()},[i,n,y,_,w]);const z=()=>{D(!1)};if(P)return(0,C.jsx)(s.A,{children:"Cargando..."});if(O)return(0,C.jsx)(s.A,{children:"Error cargando el plan de dietas"});const X=L?{labels:["Original","Calculated"],datasets:[{label:"KLCA Total",backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1,data:[L.original_klca_tot,L.klca_total]}]}:{labels:[],datasets:[]},Z=L?{labels:["Original","Calculated"],datasets:[{label:"Lipidos Total",backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1,data:[L.original_lipidos_tot,L.lipidos_total]}]}:{labels:[],datasets:[]},q=L?{labels:["Original","Calculated"],datasets:[{label:"HCO2 Total",backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1,data:[L.original_hco_tot,L.hco2_total]}]}:{labels:[],datasets:[]},G=L?{labels:["Original","Calculated"],datasets:[{label:"Proteinas Total",backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderWidth:1,data:[L.original_proteina_tot,L.proteinas_total]}]}:{labels:[],datasets:[]};return(0,C.jsxs)(v,{children:[(0,C.jsx)(l.A,{children:(0,C.jsxs)(d.A,{children:[(0,C.jsx)(E,{variant:"h4",gutterBottom:!0,children:"Planes diet\xe9ticos"}),(0,C.jsx)(k,{component:c.A,children:(0,C.jsxs)(u.A,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,C.jsx)(p.A,{children:(0,C.jsxs)(g.A,{children:[(0,C.jsx)(A.A,{children:"HCO2 Total"}),(0,C.jsx)(A.A,{children:"KLCA Total"}),(0,C.jsx)(A.A,{children:"Lipidos Total"}),(0,C.jsx)(A.A,{children:"Proteinas Total"}),T.length>0&&Object.keys(T[0].individual).map(t=>(0,C.jsx)(A.A,{children:t},t)),(0,C.jsx)(A.A,{children:"Action"})]})}),(0,C.jsx)(b.A,{children:T.map((t,o)=>(0,C.jsxs)(g.A,{onClick:()=>(t=>{R(t)})(t),style:{cursor:"pointer",backgroundColor:L===t?"#e0e0e0":"transparent",border:L===t?"2px solid black":"none"},children:[(0,C.jsx)(A.A,{children:t.hco2_total.toFixed(2)}),(0,C.jsx)(A.A,{children:t.klca_total.toFixed(2)}),(0,C.jsx)(A.A,{children:t.lipidos_total.toFixed(2)}),(0,C.jsx)(A.A,{children:t.proteinas_total.toFixed(2)}),Object.entries(t.individual).map(t=>{let[e,a]=t;return(0,C.jsx)(A.A,{children:"number"===typeof a?a.toFixed(2):a},e)}),(0,C.jsx)(A.A,{children:(0,C.jsx)(x.A,{variant:"contained",color:"primary",onClick:o=>{o.stopPropagation(),(async t=>{try{const o=await r.A.post("https://pruebas-back-50777bb3ad67.herokuapp.com/edit_dieta/".concat(a),{datosDieta:t.individual});console.log(o.data),W("Datos guardados correctamente"),K("success"),D(!0),setTimeout(()=>{e("/pacientes")},2e3)}catch(O){console.error("Error saving diet plan:",O),W("Error al guardar los datos"),K("error"),D(!0)}})(t)},children:"Guardar"})})]},o))})]})})]})}),(0,C.jsx)(l.A,{children:(0,C.jsxs)(d.A,{children:[(0,C.jsx)(f.default,{data:X,title:"KLCA Comparaci\xf3n Total"}),(0,C.jsx)(f.default,{data:Z,title:"Lipidos Comparaci\xf3n Total"}),(0,C.jsx)(f.default,{data:q,title:"HCO2 Comparaci\xf3n Total"}),(0,C.jsx)(f.default,{data:G,title:"Proteinas Comparaci\xf3n Total"})]})}),(0,C.jsx)(h.A,{open:N,autoHideDuration:6e3,onClose:z,children:(0,C.jsx)(m.A,{onClose:z,severity:B,sx:{width:"100%"},children:M})})]})}},6328:(t,e,a)=>{a.d(e,{A:()=>m});var o=a(8168),r=a(8587),n=a(5043),i=a(9303),s=a(3198),l=a(9998),d=a(6240),c=a(653),u=a(5849),p=a(579);const g=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function A(t){return"scale(".concat(t,", ").concat(t**2,")")}const b={entering:{opacity:1,transform:A(1)},entered:{opacity:1,transform:"none"}},x="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),h=n.forwardRef(function(t,e){const{addEndListener:a,appear:h=!0,children:m,easing:y,in:f,onEnter:j,onEntered:C,onEntering:v,onExit:k,onExited:E,onExiting:w,style:_,timeout:T="auto",TransitionComponent:S=l.Ay}=t,P=(0,r.A)(t,g),F=(0,i.A)(),O=n.useRef(),H=(0,d.A)(),L=n.useRef(null),R=(0,u.A)(L,(0,s.A)(m),e),N=t=>e=>{if(t){const a=L.current;void 0===e?t(a):t(a,e)}},D=N(v),M=N((t,e)=>{(0,c.q)(t);const{duration:a,delay:o,easing:r}=(0,c.c)({style:_,timeout:T,easing:y},{mode:"enter"});let n;"auto"===T?(n=H.transitions.getAutoHeightDuration(t.clientHeight),O.current=n):n=a,t.style.transition=[H.transitions.create("opacity",{duration:n,delay:o}),H.transitions.create("transform",{duration:x?n:.666*n,delay:o,easing:r})].join(","),j&&j(t,e)}),W=N(C),B=N(w),K=N(t=>{const{duration:e,delay:a,easing:o}=(0,c.c)({style:_,timeout:T,easing:y},{mode:"exit"});let r;"auto"===T?(r=H.transitions.getAutoHeightDuration(t.clientHeight),O.current=r):r=e,t.style.transition=[H.transitions.create("opacity",{duration:r,delay:a}),H.transitions.create("transform",{duration:x?r:.666*r,delay:x?a:a||.333*r,easing:o})].join(","),t.style.opacity=0,t.style.transform=A(.75),k&&k(t)}),z=N(E);return(0,p.jsx)(S,(0,o.A)({appear:h,in:f,nodeRef:L,onEnter:M,onEntered:W,onEntering:D,onExit:K,onExited:z,onExiting:B,addEndListener:t=>{"auto"===T&&F.start(O.current||0,t),a&&a(L.current,t)},timeout:"auto"===T?null:T},P,{children:(t,e)=>n.cloneElement(m,(0,o.A)({style:(0,o.A)({opacity:0,transform:A(.75),visibility:"exited"!==t||f?void 0:"hidden"},b[t],_,m.props.style),ref:R},e))}))});h.muiSupportAuto=!0;const m=h},9650:(t,e,a)=>{a.d(e,{A:()=>x});var o=a(8168),r=a(8587),n=a(5043),i=a(8387),s=a(8610),l=a(8206),d=a(4535),c=a(2532),u=a(2372);function p(t){return(0,u.Ay)("MuiTableContainer",t)}(0,c.A)("MuiTableContainer",["root"]);var g=a(579);const A=["className","component"],b=(0,d.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),x=n.forwardRef(function(t,e){const a=(0,l.b)({props:t,name:"MuiTableContainer"}),{className:n,component:d="div"}=a,c=(0,r.A)(a,A),u=(0,o.A)({},a,{component:d}),x=(t=>{const{classes:e}=t;return(0,s.A)({root:["root"]},p,e)})(u);return(0,g.jsx)(b,(0,o.A)({ref:e,as:d,className:(0,i.A)(x.root,n),ownerState:u},c))})}}]);
//# sourceMappingURL=618.58767111.chunk.js.map